{{ define "main" }}
<section class="all-workshops">
    <h2>Workshops</h2>
    {{ $durations := slice }}
    {{ $ages := slice }}
    {{ $tags := slice }}
    {{ range .Pages }}
    {{ if not (in $durations .Params.duration) }}
    {{ $durations = $durations | append .Params.duration }}
    {{ end }}
    {{ if not (in $ages .Params.age) }}
    {{ $ages = $ages | append .Params.age }}
    {{ end }}
    {{ range .Params.tags }}
    {{ if not (in $tags .) }}
    {{ $tags = $tags | append . }}
    {{ end }}
    {{ end }}
    {{ end }}
    <a href="#" id="filter-toggle">Filter <span>â–¸</span></a>
    <div id="filter">
        <label for="age-filter">
            <span>Alter:</span>
            <select id="age-filter">
                <option value="">Alle</option>
                {{ range $ages }}
                <option value="{{ . }}">{{ . }}</option>
                {{ end }}
            </select>
        </label>
        <label for="duration-filter">
            <span>Dauer:</span>
            <select id="duration-filter">
                <option value="">Alle</option>
                {{ range $durations }}
                <option value="{{ . }}">{{ . }}</option>
                {{ end }}
            </select>
        </label>
        <label>
            <span>Kategorien:</span>
            <div id="tag-filters">
                {{ range $tags }}
                <label class="category">
                    <input type="checkbox" value="{{ . }}">
                    #{{ . }}
                </label>
                {{ end }}
            </div>
        </label>
    </div>
    <div class="container-fluid">
        <div class="container-fluid">
            <div class="row" id="results">
                {{ range .Pages }}
                <div id="result-item" data-age="{{ .Params.age }}" data-duration="{{ .Params.duration }}"
                     data-tags="{{ .Params.tags }}">
                    {{ partial "workshop-card.html" . }}
                </div>
                {{ end }}
            </div>
        </div>
    </div>
</section>
{{ end }}